{% load django_bootstrap5 %}
{% load static %}
{% bootstrap_css %}
{% bootstrap_javascript %}
{% load crispy_forms_tags %}


{% block head %} 
    <title>Task Heaven | Login</title>
    <link rel="stylesheet" href="{% static 'css/style.css' %}">
{% endblock %} 


{% block content %}
<nav class="navbar navbar-expand-lg navbar-light bg-light mb-5 p-2 shadow-lg ">
    <a class="navbar-brand mb-0 h1 " href="{% url 'home'%}">Task Heaven</a>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse p-3 mb-auto text-center  " id="navbarSupportedContent">   
        <ul class="navbar-nav">
            <li class="nav-item justify-content:center ">
                <a class="nav-link active" aria-current="page" href="{% url 'features' %}">Features</a>
            </li>
        </ul>     
        <ul class="navbar-nav ms-auto">
            <li class="nav-item">    
              <a class="nav-link active" aria-current="page" href="{% url 'login' %}">Login</a>
            </li>
            <li>
              <a class="btn btn-dark navbar-btn" type="button" href="{% url 'register' %}">Register</a>
            </li>                   
        </ul>
      </div>
</nav>

{% comment %} Shows a message when account successfully created {% endcomment %}
{% for message in messages %}
    {% if message.level == DEFAULT_MESSAGE_LEVELS.SUCCESS %}
        <p id="message-timer" class="alert alert-success float-center text-center">{{ message }}</p>
    {% endif %}
{% endfor %}


{% comment %} Login form {% endcomment %}
<div class="container mb3 col-4 shadow-lg rounded-2">

    <form class='form-control border border-0 p-4' method='POST' autocomplete='off'>
        {% csrf_token %}
        {{ LoginForm|crispy }}
        <button class="btn btn-success " type='submit'>Login</button
    </form>
</div>

<footer class='bg-dark text-center text-light p-4 shadow-lg mt-5'>
    <p><b>Task Heaven</b></p>
    <a class='link-light' href="https://github.com/juergenrose/task-heaven">Code on Github</a>
  </footer>

<script>
    {% comment %} Script for the Message time {% endcomment %}
    document.addEventListener('DOMContentLoaded', function() {
        let message_timeout = document.getElementById('message-timer');
    
        setTimeout(function() {
            message_timeout.style.display = 'none';
        }, 3000);
    });
</script>
{% endblock %}  